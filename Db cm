
CREATE TABLE [dbo].[Evaluationperiod](
	[PeriodId] [int] IDENTITY(1,1) NOT FOR REPLICATION NOT NULL,
	[PeriodTitle] [nvarchar](50) NULL,
	[Finished] [bit] NOT NULL,
	[StartDate] [nvarchar](50) NOT NULL,
	[EndDate] [nvarchar](50) NOT NULL,
	[FromDate] [nvarchar](50) NOT NULL,
	[ToDate] [nvarchar](50) NOT NULL,
	[Explain] [nvarchar](2000) NOT NULL,
	[Owner] [int] NOT NULL,
	[CreationDate] [datetime] NOT NULL,
	[Reformer] [int] NOT NULL,
	[ReformDate] [datetime] NOT NULL,
 CONSTRAINT [PK_Evaluationperiod] PRIMARY KEY CLUSTERED 
(
	[PeriodId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, FILLFACTOR = 90, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO


-- Created by fl
Create Procedure [dbo].[sp_EvaluationperiodInsert]
@PeriodTitle nvarchar(200)='PeriodTitle',
@StartDate nvarchar(200),
@EndDate nvarchar(200),
@FromDate nvarchar(200),
@ToDate nvarchar(200),
@Explain nvarchar(2000),
@CreatorId int
As
SET NOCOUNT ON
Insert Into Evaluationperiod(
 [PeriodTitle], [Finished], [StartDate], [EndDate], [FromDate], [ToDate], [Explain], [Owner], [CreationDate], [Reformer], [ReformDate])
Select
@PeriodTitle, 0, @StartDate, @EndDate, @FromDate, @ToDate, @Explain, @CreatorId, GETDATE(), @CreatorId, GETDATE()
Go

-- Created by fl
Create Procedure [dbo].[sp_EvaluationperiodDelete]
@PeriodId int=0
As
SET NOCOUNT ON

Delete From Evaluationperiod Where PeriodId=@PeriodId
Go
 
-- Created by fl
Create Procedure [dbo].[sp_EvaluationperiodUpdate]
@PeriodId int=0,
@PeriodTitle nvarchar(200)='PeriodTitle',
@StartDate nvarchar(200),
@EndDate nvarchar(200),
@FromDate nvarchar(200),
@ToDate nvarchar(200),
@Explain nvarchar(2000),
@CreatorId int
As
SET NOCOUNT ON
Update Evaluationperiod Set 
[PeriodTitle]=@PeriodTitle, [StartDate]=@StartDate, [EndDate]=@EndDate,
[FromDate]=@FromDate, [ToDate]=@ToDate, [Explain]=@Explain, [Reformer]=@CreatorId, [ReformDate] =GETDATE()
where PeriodId=@PeriodId
Go

-- Created by fl
Create Procedure [dbo].[sp_EvaluationperiodGet]
@PeriodId int=0
As
SET NOCOUNT ON
Select *  From Evaluationperiod Where PeriodId=@PeriodId
